%% 目的：计算调节器方程

% 调节器方程 （Xi,Ui）
% 满足 Xi*A0=Ai*xi+Bi*Ui
%         0=Ci*xi-C0                         (A0,C0) leader的方程

%% 系统设置  模型：假设在X,Y两轴方向的模型是相同的
% leaders
A01 = [0 1; 0 0];   B01 = [0 1]';  C01 = [1 0];  %小组1-leader 01
A02 = [0 1; -0.1 -0.1]; B02 = [0 1]';  C02 = [1 0];  %小组2-leader 02

% followers        
% group 1
A1 = [0 1; -3 -3];  B1 = [0; 1]; C1 = [1 0];
A2 = [0 1; -3 -3];  B2 = [0; 1]; C2 = [1 0];
A3 = [0];  B3 = [1]; C3 = [1];
A4 = [0];  B4 = [1]; C4 = [1];

% group 2
A5 = [0 1;-1 -1];  B5 = [0; 1]; C5 = [1 0];
A6 = [0 1;-1 -1];  B6 = [0; 1]; C6 = [1 0];
A7 = [0 1;-2 -2];  B7 = [0; 1]; C7 = [1 0]; 

%% 调节器参数计算
X1 = [1 0;0 1]; U1=[3 3]; R1 = [1];
X2 = [1 0;0 1]; U2=[3 3]; R2 = [1];
X3 = [1 0]; U3=[0 1]; R3 = [0];
X4 = [1 0]; U4=[0 1]; R4 = [0];

X5 = [1 0;0 1]; U5=[0.9 0.9]; R5 = [1];
X6 = [1 0;0 1]; U6=[0.9 0.9]; R6 = [1];
X7 = [1 0;0 1]; U7=[1.9 1.9]; R7 = [1];

%% verification  
X1*A01 == A1*X1+B1*U1
C1*X1-C01 == 0
X2*A01 == A2*X2+B2*U2
C2*X2-C01 == 0
X3*A01 == A3*X3+B3*U3
C3*X3-C01 == 0
X4*A01 == A4*X4+B4*U4
C4*X4-C01 == 0

X5*A02 == A5*X5+B5*U5
C5*X5-C02 == 0
X6*A02 == A6*X6+B6*U6
C6*X6-C02 == 0
X7*A02 == A7*X7+B7*U7
C7*X7-C02 == 0

B1*R1 == X1*B01
B3*R3 == X3*B01
